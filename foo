<!DOCTYPE html><html><head><title>Φορτίο v0.7.3</title>
<script src="0.7.3/static/js/Chart.min.js"></script>
<link rel="icon" href="../favicon.ico" />
<style>
a:link {
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}
h1 {
  font-size: 120%;
}
</style>
</head>
<body style="background: linear-gradient(to right, #d8aa20 , #c75228);">
<a href="http://fortio.org/"><img src="0.7.3/static/img/logo.svg" alt="." height="69" width="45" align="right" /></a>
<img src="0.7.3/static/img/logo.svg" alt="." height="92" width="60" align="right" />
<img src="0.7.3/static/img/logo.svg" alt="istio logo" height="123" width="80" align="right" />
<h1>Φορτίο (fortio) v0.7.3, report only limited UI</h1>
<script src="0.7.3/static/js/fortio_chart.js"></script>
<script>
var res
var data
function fortio_load(url) {
  var multi = document.getElementById("files")
  var list = [url]
  if (multi && multi.selectedOptions !== undefined) {
    list = multi.selectedOptions
  }
  if (list.length == 0) {
    return
  }
  if (list.length == 1) {
    fetch("data/"+url).then(doc => doc.json()).then((out) => {
      res = out
      data = fortioResultToJsChartData(res)
      showChart(data)
      var urldiv = document.getElementById('url')
      urldiv.innerHTML = "<a href='browse?url=" + url + "'>" + url + "</a> (<a href='data/" + url +"'>json</a>)"
    }).catch(err => { throw err })
  } else {
    var urldiv = document.getElementById('url')
    urldiv.innerHTML = "Multiple runs..."
    makeMultiChart()
    var promises = []
    for (var i = 0, len = list.length; i < len; i++) {
      var v = list[len-i-1].value;
      (function (idx, u) {
        promises.push(fetch("data/"+u).then(doc => doc.json()).then((out) => {
          fortioAddToMultiResult(idx, out)
        }))
      })(i, v)
    }
    Promise.all(promises).then( () => {
      endMultiChart(list.length)
    }).catch(err => { throw err })
  }
}
</script>

<table><tr><td valign="top">
List of saved results:<br />
<br />
Filter:<form><input id="searchinp" name="s" type="text" size=20 value="" /></form>
</td><td>
<select id="files" size=7 onchange="fortio_load(value);" multiple>

  <option value="2018-03-07-164634_0_6_0_400qps_scenario1_with_cache.json">2018-03-07-164634_0_6_0_400qps_scenario1_with_cache</option>

  <option value="2018-03-07-164455_0_6_0_400qps_scenario2_no_cache.json">2018-03-07-164455_0_6_0_400qps_scenario2_no_cache</option>

  <option value="2018-02-12-233146_0_5_1_100qps_ingress_1M.json">2018-02-12-233146_0_5_1_100qps_ingress_1M</option>

  <option value="2018-02-07-051639_0_6_0_pre07_400qps_mixer_cache.json">2018-02-07-051639_0_6_0_pre07_400qps_mixer_cache</option>

  <option value="2018-02-07-051545_0_6_0_pre07_no_cache_400qps.json">2018-02-07-051545_0_6_0_pre07_no_cache_400qps</option>

  <option value="2018-01-31-015424_0_5_0_400qps_mixer_cache.json">2018-01-31-015424_0_5_0_400qps_mixer_cache</option>

  <option value="2018-01-31-012315_0_5_0_10qps_no_cache.json">2018-01-31-012315_0_5_0_10qps_no_cache</option>

  <option value="2018-01-31-011719_0_5_0_100qps_no_cache.json">2018-01-31-011719_0_5_0_100qps_no_cache</option>

  <option value="2018-01-31-004155_0_5_0_400qps_no_cache.json">2018-01-31-004155_0_5_0_400qps_no_cache</option>

  <option value="2018-01-30-023216_0_2_12_400_qps.json">2018-01-30-023216_0_2_12_400_qps</option>

  <option value="2018-01-30-021849_0_4_400qps_no_cache.json">2018-01-30-021849_0_4_400qps_no_cache</option>

  <option value="2018-01-30-004149_No_istio_1M_max_qps.json">2018-01-30-004149_No_istio_1M_max_qps</option>

  <option value="2018-01-30-001432_500qps_no_cache.json">2018-01-30-001432_500qps_no_cache</option>

  <option value="2018-01-29-233744_maxqps_1M_calls_no_cache.json">2018-01-29-233744_maxqps_1M_calls_no_cache</option>

  <option value="2018-01-29-233608_500qps_no_cache.json">2018-01-29-233608_500qps_no_cache</option>

  <option value="2018-01-29-222530_400qps_no_cache.json">2018-01-29-222530_400qps_no_cache</option>

  <option value="2018-01-29-214531_no_mixer_100qps.json">2018-01-29-214531_no_mixer_100qps</option>

  <option value="2018-01-29-201806_localhost.json">2018-01-29-201806_localhost</option>

  <option value="2018-01-29-201729_no_mixer_100qps.json">2018-01-29-201729_no_mixer_100qps</option>

  <option value="2018-01-29-201411_no_mixer_100qps.json">2018-01-29-201411_no_mixer_100qps</option>

  <option value="2018-01-29-201159_localhost.json">2018-01-29-201159_localhost</option>

  <option value="2018-01-29-201149_localhost.json">2018-01-29-201149_localhost</option>

  <option value="2018-01-29-200938_localhost.json">2018-01-29-200938_localhost</option>

  <option value="2018-01-29-200813_no_mixer.json">2018-01-29-200813_no_mixer</option>

  <option value="2018-01-29-192331_no_mixer_100qps.json">2018-01-29-192331_no_mixer_100qps</option>

  <option value="2018-01-29-192213_no_mixer_100qps.json">2018-01-29-192213_no_mixer_100qps</option>

  <option value="2018-01-29-191801_no_mixer_100qps.json">2018-01-29-191801_no_mixer_100qps</option>

  <option value="2018-01-29-191537_no_mixer.json">2018-01-29-191537_no_mixer</option>

  <option value="2018-01-29-191344_no_mixer.json">2018-01-29-191344_no_mixer</option>

  <option value="2018-01-29-191023_localhost.json">2018-01-29-191023_localhost</option>

  <option value="2018-01-29-190630_localhost.json">2018-01-29-190630_localhost</option>

  <option value="2018-01-29-190411_localhost.json">2018-01-29-190411_localhost</option>

  <option value="2018-01-29-190350_localhost.json">2018-01-29-190350_localhost</option>

  <option value="2017-12-21-002951_Test_local_run_1k_qps.json">2017-12-21-002951_Test_local_run_1k_qps</option>

  <option value="2017-12-21-002950_Test_local_run_max_qps.json">2017-12-21-002950_Test_local_run_max_qps</option>

  <option value="2017-12-21-001514_Test_local_run_max_qps_32_connections.json">2017-12-21-001514_Test_local_run_max_qps_32_connections</option>

  <option value="2017-12-20-231459_Test_local_run_max_qps_32_connections.json">2017-12-20-231459_Test_local_run_max_qps_32_connections</option>

  <option value="2017-12-20-231317_Test_local_run_max_qps.json">2017-12-20-231317_Test_local_run_max_qps</option>

  <option value="2017-12-20-231208_Test_local_run_1k_qps.json">2017-12-20-231208_Test_local_run_1k_qps</option>

</select>
</td><td valign="top">
Graph link: <div id="url">...</div>
</tr></table>
<script>
const files = document.getElementById('files');
const allFiles = Array.from(files.options);
const search = document.getElementById('searchinp');
function findMatches (search, allFiles) {
  const regex = new RegExp(search, 'gi');
  return allFiles.filter(fileOption => {
    return fileOption.text.match(regex);
  });
}
function filterFiles () {
  allFiles.forEach(fileOption => {
    fileOption.remove();
    fileOption.selected = false;
  });
  const filteredFiles = findMatches(this.value, allFiles);
  files.append(...filteredFiles);
}
search.addEventListener('change', filterFiles);
search.addEventListener('keyup', filterFiles);
</script>

<div class="chart-container" id="cc1" style="position: relative; height:75vh; width:98vw; visibility: hidden">
<canvas style="background-color: #fff" id="chart1"></canvas>
</div>
<div id="running">
<br/>
Select or multi select to graph...
</div>
<div id="update">
<form id="updtForm" action="javascript:updateChart()">
<input type="submit" value="Update:" />
Time axis min <input type="text" name="xmin" size="5" /> ms,
max <input type="text" name="xmax" size="5" /> ms,
logarithmic: <input name="xlog" type="checkbox" onclick="updateChart()" /> -
Count axis logarithmic: <input name="ylog" type="checkbox" onclick="updateChart()" />
</form>
</div>

<p>Go to <a href='./'>Top</a>.</p>
</body>
</html>
