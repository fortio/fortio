# testscript framework tests for fcurl command line

# Basic usage test
!fcurl
!stdout .
stderr 'Exactly 1 argument expected, got 0'

# (short) version
fcurl version
stdout '^dev$'
!stderr .

# (long) version
fcurl buildinfo
stdout '^dev  go'
stdout 'path	fortio.org/fortio/fcurl'
!stderr .

# Content-Type override through headers
fcurl -H 'content-TYPE: foo/bar' https://debug.fortio.org/xyz
stderr 'HTTP/1.1 200 OK'
stdout 'Content-Type: foo/bar'
stdout 'POST /xyz HTTP/1.1'
